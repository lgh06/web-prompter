(this["webpackJsonpprompter-web"]=this["webpackJsonpprompter-web"]||[]).push([[4],{42:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return h}));var c=t(25),r=t.n(c),o=t(33),s=t(0),a=t(4),i=t(16),l=t(158),u=t(11),d=t(1),p=t(173);function h(){var e=Object(a.h)(),n=e.path,t=e.url;console.log(l.a);var c=l.a.init({env:"hello-cloudbase-4go22m4jaa7a36e5"}),h=c.auth({persistence:"local"});function f(){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(r.a.mark((function e(){var n,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.anonymousAuthProvider().signIn();case 2:return n=e.sent,e.next=5,h.getLoginState();case 5:t=e.sent,console.log(n,t.isAnonymous);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e="a16ErpTCBWY",n="0000",t=p.device({productKey:e,deviceName:n,deviceSecret:"cdda15575d6c4cf344e5c12c9e11b823",tls:!1}),s="/".concat(e,"/").concat(n,"/user/data");function a(){return(a=Object(o.a)(r.a.mark((function e(){var n,t,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(),n=c.database(),t=n.collection("devices"),e.next=5,t.where({deviceId:"0000"}).get();case 5:o=e.sent,console.log("tencent cloudbase",o),u.d.post("https://service-ripfq8y3-1251786267.sh.apigw.tencentcs.com/release/register",{deviceName:"test"+Date.now()}).then((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.subscribe(s,null,(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];console.log("inside subscribe",n)})),t.on("connect",(function(){for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];console.log("connect successfully!",r);var s=setInterval((function(){t.publish("/".concat(e,"/").concat(n,"/user/data"),"hello world!"+new Date,(function(e){e&&clearInterval(s)}))}),3e3)})),t.on("message",(function(e,n){console.log(e,n.toString())})),t.on("error",(function(e){console.log("error:",e)})),function(){a.apply(this,arguments)}(),function(){t.unsubscribe(s,(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return console.log("inside unsubscribe",n)})),t.end({force:!0},(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return console.log("inside end",n)}))}}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Topics"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"".concat(t,"/components"),children:"Components"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"".concat(t,"/props-v-state"),children:"Props v. State"})})]}),Object(d.jsxs)(a.c,{children:[Object(d.jsx)(a.a,{exact:!0,path:n,children:Object(d.jsx)("h3",{children:"Please select a topic."})}),Object(d.jsx)(a.a,{path:"".concat(n,"/:topicId"),children:Object(d.jsx)(b,{})})]})]})}function b(){var e=Object(a.g)().topicId;return Object(d.jsxs)("h3",{children:["Requested topic ID: ",e]})}}}]);
//# sourceMappingURL=4.eab5312f.chunk.js.map